<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Multivariate polynomials implementations · SumOfSquares</title><meta name="title" content="Multivariate polynomials implementations · SumOfSquares"/><meta property="og:title" content="Multivariate polynomials implementations · SumOfSquares"/><meta property="twitter:title" content="Multivariate polynomials implementations · SumOfSquares"/><meta name="description" content="Documentation for SumOfSquares."/><meta property="og:description" content="Documentation for SumOfSquares."/><meta property="twitter:description" content="Documentation for SumOfSquares."/><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/citations.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">SumOfSquares</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../../">Index</a></li><li><a class="tocitem" href="../../../sumofsquares/">Sum-of-Squares Programming</a></li><li><a class="tocitem" href="../../../variables/">Variables</a></li><li><a class="tocitem" href="../../../constraints/">Constraints</a></li><li><span class="tocitem">API Reference</span><ul><li><a class="tocitem" href="../../../reference/standard_form/">Standard form</a></li><li><a class="tocitem" href="../../../reference/constraints/">Constraints</a></li><li><a class="tocitem" href="../../../reference/certificate/">Certificate</a></li><li><a class="tocitem" href="../../../reference/internal/">Internal functions</a></li></ul></li><li><span class="tocitem">Tutorials</span><ul><li><input class="collapse-toggle" id="menuitem-6-1" type="checkbox"/><label class="tocitem" for="menuitem-6-1"><span class="docs-label">Getting started</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Getting started/circle/">Nonnegative over a variety</a></li><li><a class="tocitem" href="../../Getting started/dualization/">On the importance of Dualization</a></li><li><a class="tocitem" href="../../Getting started/getting_started/">Getting started</a></li><li><a class="tocitem" href="../../Getting started/motzkin/">Motzkin</a></li><li><a class="tocitem" href="../../Getting started/sos_decomposition/">A trivial SOS decomposition example</a></li><li><a class="tocitem" href="../../Getting started/sum-of-squares_matrices/">Sum-of-Squares matrices</a></li><li><a class="tocitem" href="../../Getting started/univariate/">Minimization of a univariate polynomial</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6-2" type="checkbox"/><label class="tocitem" for="menuitem-6-2"><span class="docs-label">Polynomial Optimization</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Polynomial Optimization/bilinear/">Bilinear terms</a></li><li><a class="tocitem" href="../../Polynomial Optimization/bound_on_global_extremum/">Bound on Global Extremum</a></li><li><a class="tocitem" href="../../Polynomial Optimization/ellipsoid/">Exterior of ellipsoid</a></li><li><a class="tocitem" href="../../Polynomial Optimization/goldstein_price/">Goldstein-price function</a></li><li><a class="tocitem" href="../../Polynomial Optimization/min_univariate/">Maximizing as minimum</a></li><li><a class="tocitem" href="../../Polynomial Optimization/polynomial_optimization/">Polynomial Optimization</a></li><li><a class="tocitem" href="../../Polynomial Optimization/qcqp/">Nonconvex quadratically constrained quadratic programs</a></li><li><a class="tocitem" href="../../Polynomial Optimization/qp/">Nonconvex QP</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6-3" type="checkbox"/><label class="tocitem" for="menuitem-6-3"><span class="docs-label">Systems and Control</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Systems and Control/barrier_certificate/">Barrier certificates for collision avoidance</a></li><li><a class="tocitem" href="../../Systems and Control/julia_set/">Outer approximation of Julia set</a></li><li><a class="tocitem" href="../../Systems and Control/lyapunov_function_search/">Lyapunov Function Search</a></li><li><a class="tocitem" href="../../Systems and Control/stabilization_of_nonlinear_systems/">Stabilization of nonlinear systems</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6-4" type="checkbox"/><label class="tocitem" for="menuitem-6-4"><span class="docs-label">Other Applications</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Other Applications/bounds_in_probability/">Bounds in Probability</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6-5" type="checkbox"/><label class="tocitem" for="menuitem-6-5"><span class="docs-label">Noncommutative and Hermitian</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Noncommutative and Hermitian/noncommutative_variables/">Noncommutative variables</a></li><li><a class="tocitem" href="../../Noncommutative and Hermitian/sums_of_hermitian_squares/">Sums of Hermitian squares</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6-6" type="checkbox"/><label class="tocitem" for="menuitem-6-6"><span class="docs-label">Sparsity</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Sparsity/sign_symmetry/">Sign symmetry</a></li><li><a class="tocitem" href="../../Sparsity/term_sparsity/">Term sparsity</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6-7" type="checkbox" checked/><label class="tocitem" for="menuitem-6-7"><span class="docs-label">Extension</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../certificate/">Certificate</a></li><li><a class="tocitem" href="../hypercube/">Hypercube</a></li><li class="is-active"><a class="tocitem" href>Multivariate polynomials implementations</a></li><li><a class="tocitem" href="../univariate_solver/">Univariate Solver</a></li></ul></li></ul></li><li><a class="tocitem" href="../../../bibliography/">Bibliography</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li><a class="is-disabled">Extension</a></li><li class="is-active"><a href>Multivariate polynomials implementations</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Multivariate polynomials implementations</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/jump-dev/SumOfSquares.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/jump-dev/SumOfSquares.jl/blob/master/docs/src/tutorials/Extension/typed.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Multivariate-polynomials-implementations"><a class="docs-heading-anchor" href="#Multivariate-polynomials-implementations">Multivariate polynomials implementations</a><a id="Multivariate-polynomials-implementations-1"></a><a class="docs-heading-anchor-permalink" href="#Multivariate-polynomials-implementations" title="Permalink"></a></h1><p><a href="https://mybinder.org/v2/gh/jump-dev/SumOfSquares.jl/gh-pages?filepath=dev/generated/Extension/typed.ipynb"><img src="https://mybinder.org/badge_logo.svg" alt/></a> <a href="https://nbviewer.jupyter.org/github/jump-dev/SumOfSquares.jl/blob/gh-pages/dev/generated/Extension/typed.ipynb"><img src="https://img.shields.io/badge/show-nbviewer-579ACA.svg" alt/></a> <strong>Contributed by</strong>: Benoît Legat</p><p>The SumOfSquares package is built on top of the <a href="https://github.com/JuliaAlgebra/MultivariatePolynomials.jl">MultivariatePolynomials</a> abstract interface. <a href="https://github.com/JuliaAlgebra/DynamicPolynomials.jl/">DynamicPolynomials</a> is an implementation of this abstract interface so it can be used with SumOfSquares. Moreover, any other implementation can be used as well. To illustrate, we solve of (<a href="../../../bibliography/#Blekherman2012">Blekherman <em>et al.</em>, 2012</a>; Examples 3.38) with <a href="https://github.com/JuliaAlgebra/TypedPolynomials.jl">TypedPolynomials</a>, another implementation of <a href="https://github.com/JuliaAlgebra/MultivariatePolynomials.jl">MultivariatePolynomials</a>.</p><pre><code class="language-julia hljs">import TypedPolynomials
TypedPolynomials.@polyvar x y
using SumOfSquares
import CSDP
model = SOSModel(CSDP.Optimizer)
con_ref = @constraint(model, 2x^4 + 5y^4 - x^2*y^2 &gt;= -2(x^3*y + x + 1))
optimize!(model)
solution_summary(model)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">* Solver : CSDP

* Status
  Result count       : 1
  Termination status : OPTIMAL
  Message from the solver:
  &quot;Problem solved to optimality.&quot;

* Candidate solution (result #1)
  Primal status      : FEASIBLE_POINT
  Dual status        : FEASIBLE_POINT
  Objective value    : 0.00000e+00
  Dual objective value : 0.00000e+00

* Work counters
  Solve time (sec)   : 4.35114e-04
</code></pre><p>We see that the problem is feasible. The Sum-of-Squares decomposition can be obtained as follows:</p><pre><code class="language-julia hljs">sos_decomposition(con_ref)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">(-0.6797543969221541·1 - 0.09754507709792246·y - 0.4175950563713448·x + 2.1931518901396174·y^2 - 0.1269606244678339·x*y - 0.8025867547845221·x^2)^2 + (0.9043573827480671·1 - 0.6455003192597278·y + 0.2742159536999832·x - 0.10770174782358159·y^2 - 1.2293138068800717·x*y - 0.9300160939847·x^2)^2 + (-0.5739168240154698·1 - 1.38535050221548·y - 0.6219655378569912·x - 0.2040924100740057·y^2 - 0.15182215880489783·x*y + 0.4443832632766482·x^2)^2 + (0.5703021360913615·1 - 0.5184093413621602·y + 0.3436728787624473·x + 0.2555950605470665·y^2 + 0.7618441294650047·x*y - 0.02090567376761348·x^2)^2 + (0.041400837217767876·1 + 0.04911040272637946·y - 0.49990658891857337·x - 0.24792145939081137·y^2 + 0.2972445689917418·x*y - 0.5054184235227418·x^2)^2 + (-0.2524531788141328·1 - 0.06336647012459033·y + 0.253942572224051·x - 0.10018744153048117·y^2 + 0.059601795985895156·x*y - 0.19381241255811912·x^2)^2</code></pre><p>Why is there several implementations ? Depending in the use-case, one implementation may be more appropriate than another one. <a href="https://github.com/JuliaAlgebra/TypedPolynomials.jl">TypedPolynomials</a> is faster than <a href="https://github.com/JuliaAlgebra/DynamicPolynomials.jl/">DynamicPolynomials</a> but it requires new compilation whenever the list of variables changes. This means that <a href="https://github.com/JuliaAlgebra/TypedPolynomials.jl">TypedPolynomials</a> is not appropriate when the number of variables is dynamic or too large. However, for a small number of variables, it can be faster. When solving Sum-of-Squares programs, the time is mostly taken by the Semidefinite programming solver. The time taken by SumOfSquares/JuMP/MathOptInterface are usually negligible or it time is taken by manipulation of JuMP or MathOptInterface functions therefore using TypedPolynomials over DynamicPolynomials may not make much difference in most cases.</p><p>One case for which using TypedPolynomials might be adequate is when using domain defined by equalities (possibly also with inequalities). Indeed, in that case, SumOfSquares computes the corresponding Gröbner basis which may take a non-negligible amount of time for large systems of equalities.</p><p>To illustrate this, consider the computation of Gröbner basis for the following system from [CLO05, p. 17]. The time taken by TypedPolynomials is below:</p><p>[CLO05] Cox, A. David &amp; Little, John &amp; O&#39;Shea, Donal <em>Using Algebraic Geometry</em>. Graduate Texts in Mathematics, <strong>2005</strong>. https://doi.org/10.1007/b138611</p><pre><code class="language-julia hljs">using BenchmarkTools
@btime let
    TypedPolynomials.@polyvar x y
    S = @set x^3 * y + x == 2x^2 * y^2 &amp;&amp; 3x^4 == y
    SemialgebraicSets.compute_gröbner_basis!(S.I)
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">true</code></pre><p>The time taken by DynamicPolynomials is as follows:</p><pre><code class="language-julia hljs">import DynamicPolynomials
@btime let
    DynamicPolynomials.@polyvar x y
    S = @set x^3 * y + x == 2x^2 * y^2 &amp;&amp; 3x^4 == y
    SemialgebraicSets.compute_gröbner_basis!(S.I)
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">true</code></pre><p>We see that TypedPolynomials is faster. The time is still negligible for this small system but for larger systems, choosing TypedPolynomials may be helpful. We can use this system in a Sum-of-Squares constraint as follows:</p><pre><code class="language-julia hljs">TypedPolynomials.@polyvar x y
S = @set x^3 * y + x == 2x^2 * y^2 &amp;&amp; 3x^4 == y
poly = -6x - 4y^3 + 2x*y^2 + 6x^3 - 3y^4 + 13x^2 * y^2
model = Model(CSDP.Optimizer)
con_ref = @constraint(model, poly in SOSCone(), domain = S)
optimize!(model)
solution_summary(model)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">* Solver : CSDP

* Status
  Result count       : 1
  Termination status : OPTIMAL
  Message from the solver:
  &quot;Problem solved to optimality.&quot;

* Candidate solution (result #1)
  Primal status      : FEASIBLE_POINT
  Dual status        : FEASIBLE_POINT
  Objective value    : 0.00000e+00
  Dual objective value : 0.00000e+00

* Work counters
  Solve time (sec)   : 2.33507e-03
</code></pre><p>We obtain the following decomposition:</p><pre><code class="language-julia hljs">dec = sos_decomposition(con_ref, 1e-6)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">(-6.841219256090771e-5·1 + 0.0006527330340649107·y - 0.00014150321438476302·x + 7.044882232835532·y^2 - 28.229546532117844·x*y + 25.36354533708025·x^2)^2 + (-1.4193710561626973e-5·1 + 0.00042746788877302523·y + 0.0008136453704606653·x + 22.479251122164996·y^2 - 13.864839113487497·x*y - 21.675274123197855·x^2)^2 + (-3.84390450630064e-5·1 - 0.0007285126695822746·y + 0.0005524428333021625·x + 0.12018797686157888·y^2 + 0.09016527012493944·x*y + 0.06697072803793322·x^2)^2 + (-6.125336122569302e-7·1 - 0.03996370218393435·y + 0.05340324712849221·x - 0.0002606951920930786·y^2 - 0.00019563679757630243·x*y - 0.00014400703006102608·x^2)^2</code></pre><p>We can verify that it is correct as follows:</p><pre><code class="language-julia hljs">rem(dec - poly, S.I)</code></pre><p class="math-container">\[ 6.35962489327993912288384867185532522970703439568751491606235504150390625 \cdot 10^{-09} - 2.031836040539138034770952477781396624733608801668593421196326231345130675312378 \cdot 10^{-07}y - 1.651283078137803036392702219577936025766225961538461538461538461538458123853356 \cdot 10^{-07}x - 1.3042138486059584625274300473396493771360837854444980621337890625 \cdot 10^{-05}y^{2} - 1.9531084959490221421296585191385020152665674686431884765625 \cdot 10^{-05}xy - 7.3007271062877905661698228756417705653802840970456600189208984375 \cdot 10^{-06}x^{2} - 4.626728363395689787770000596841176350911458333333333333333333333333335636311615 \cdot 10^{-08}y^{3} - 4.979310060567361991464470823605855305989583333333333333333333333333332181844193 \cdot 10^{-08}xy^{2} - 4.16004339042067556686359253159679383315960876643657684326171875 \cdot 10^{-08}x^{2}y + 1.428514469108239819224064166729266826923076923076923076923076923076649908268473 \cdot 10^{-08}y^{4} \]</p><p>Note that the difference between <code>dec</code> and <code>poly</code> is larger than between the full gram matrix because <code>dec</code> is obtained by dropping the lowest eigenvalues with the threshold <code>1e-6</code>; see <a href="../../../reference/constraints/#SumOfSquares.sos_decomposition"><code>sos_decomposition</code></a>.</p><pre><code class="language-julia hljs">rem(gram_matrix(con_ref) - poly, S.I)</code></pre><p class="math-container">\[ 7.413986070507335123927063571559747945372009780840016901493072509765625 \cdot 10^{-09} + 1.320663966652354727218799883014649792628985708758521538514357346754875984471248 \cdot 10^{-08}y - 3.175694510778507370000275281759408804086538461538461538461538461538120077643758 \cdot 10^{-09}x + 7.41404251511888767733893246258958242833614349365234375 \cdot 10^{-09}y^{2} - 4.2730576021998700753101729787886142730712890625 \cdot 10^{-14}xy + 7.413996962364610698870137639460153877735137939453125 \cdot 10^{-09}x^{2} - 3.4816594052244909107685089111328125 \cdot 10^{-13}y^{3} + 6.85229650798646616749465465545654296875 \cdot 10^{-13}xy^{2} + 3.443079155118766720988787710666656494140625 \cdot 10^{-14}x^{2}y + 1.434300254634133755014492915226862980769230769230769230769230769230496062114595 \cdot 10^{-08}y^{4} \]</p><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../hypercube/">« Hypercube</a><a class="docs-footer-nextpage" href="../univariate_solver/">Univariate Solver »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.5.0 on <span class="colophon-date" title="Tuesday 20 August 2024 11:54">Tuesday 20 August 2024</span>. Using Julia version 1.10.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
